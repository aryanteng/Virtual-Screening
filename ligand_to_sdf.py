import requests
import os

ligand_ids = [
    "CHEMBL1434513",
"CHEMBL3833336",
"CHEMBL136478",
"CHEMBL2106667",
"CHEMBL2311030",
"CHEMBL1200873",
"CHEMBL1201745",
"CHEMBL1200692",
"CHEMBL1098659",
"CHEMBL2051955",
"CHEMBL765",
"CHEMBL1428",
"CHEMBL2109172",
"CHEMBL652",
"CHEMBL284906",
"CHEMBL1464",
"CHEMBL3989727",
"CHEMBL367149",
"CHEMBL1201647",
"CHEMBL1204644",
"CHEMBL1201260",
"CHEMBL655",
"CHEMBL159226",
"CHEMBL3707209",
"CHEMBL2106794",
"CHEMBL1200326",
"CHEMBL690",
"CHEMBL419213",
"CHEMBL1201513",
"CHEMBL24072",
"CHEMBL2104200",
"CHEMBL1201516",
"CHEMBL203266",
"CHEMBL3182320",
"CHEMBL424",
"CHEMBL2103749",
"CHEMBL184412",
"CHEMBL1329455",
"CHEMBL1152",
"CHEMBL1373254",
"CHEMBL1874750",
"CHEMBL3707239",
"CHEMBL3707339",
"CHEMBL640",
"CHEMBL1064",
"CHEMBL27810",
"CHEMBL2104708",
"CHEMBL1294",
"CHEMBL628",
"CHEMBL649",
"CHEMBL3833382",
"CHEMBL1148",
"CHEMBL211456",
"CHEMBL3707352",
"CHEMBL1085699",
"CHEMBL189",
"CHEMBL419380",
"CHEMBL768",
"CHEMBL354541",
"CHEMBL2111164",
"CHEMBL2028661",
"CHEMBL1215",
"CHEMBL2111076",
"CHEMBL1201668",
"CHEMBL632",
"CHEMBL152067",
"CHEMBL153983",
"CHEMBL1311",
"CHEMBL2095209",
"CHEMBL2103761",
"CHEMBL2109540",
"CHEMBL842",
"CHEMBL513301",
"CHEMBL276832",
"CHEMBL122",
"CHEMBL2109038",
"CHEMBL121",
"CHEMBL1431",
"CHEMBL3989762",
"CHEMBL1361347",
"CHEMBL134",
"CHEMBL1290",
"CHEMBL456",
"CHEMBL412873",
"CHEMBL524",
"CHEMBL1587",
"CHEMBL3559670",
"CHEMBL76725",
"CHEMBL1697831",
"CHEMBL1639",
"CHEMBL1620794",
"CHEMBL1532",
"CHEMBL254832",
"CHEMBL50444",
"CHEMBL3785197",
"CHEMBL1491",
"CHEMBL1480",
"CHEMBL2105131",
"CHEMBL2108304",
"CHEMBL459",
"CHEMBL75880",
"CHEMBL4297953",
"CHEMBL517199",
"CHEMBL1616951",
"CHEMBL2110767",
"CHEMBL466659",
"CHEMBL862",
"CHEMBL533",
"CHEMBL2105212",
"CHEMBL1485",
"CHEMBL1200562",
"CHEMBL504760",
"CHEMBL957",
"CHEMBL254219",
"CHEMBL1741040",
"CHEMBL515606",
"CHEMBL65717",
"CHEMBL2107583",
"CHEMBL517427",
"CHEMBL12856",
"CHEMBL330829",
"CHEMBL1008",
"CHEMBL87045",
"CHEMBL1144",
"CHEMBL1519",
"CHEMBL461343",
"CHEMBL34259",
"CHEMBL296419",
"CHEMBL1094982",
"CHEMBL45816",
"CHEMBL471",
"CHEMBL2110557",
"CHEMBL3545057",
"CHEMBL4650413",
"CHEMBL521",
"CHEMBL1371200",
"CHEMBL1889436",
"CHEMBL502097",
"CHEMBL2364655",
"CHEMBL1201064",
"CHEMBL1201212",
"CHEMBL1201234",
"CHEMBL1201474",
"CHEMBL1054",
"CHEMBL1055",
"CHEMBL1318341",
"CHEMBL1997663",
"CHEMBL1200862",
"CHEMBL1200943",
"CHEMBL1160714",
"CHEMBL222863",
"CHEMBL1201486",
"CHEMBL1201329",
"CHEMBL188921",
"CHEMBL730",
"CHEMBL1200538",
"CHEMBL1201504",
"CHEMBL565",
"CHEMBL495",
"CHEMBL1624126",
"CHEMBL76370",
"CHEMBL2111110",
"CHEMBL1160819",
"CHEMBL633",
"CHEMBL226335",
"CHEMBL1200574",
"CHEMBL1763",
"CHEMBL254193",
"CHEMBL546",
"CHEMBL3527416",
"CHEMBL413",
"CHEMBL1463345",
"CHEMBL1755",
"CHEMBL813",
"CHEMBL2110566",
"CHEMBL473",
"CHEMBL1560089",
"CHEMBL3707338",
"CHEMBL1280",
"CHEMBL541388",
"CHEMBL2106780",
"CHEMBL770",
"CHEMBL282724",
"CHEMBL1404",
"CHEMBL1237132",
"CHEMBL631",
"CHEMBL2108195",
"CHEMBL1198",
"CHEMBL2220442",
"CHEMBL2103873",
"CHEMBL673",
"CHEMBL434200",
"CHEMBL723",
"CHEMBL672",
"CHEMBL645",
"CHEMBL2109067",
"CHEMBL3990033",
"CHEMBL772",
"CHEMBL1174",
"CHEMBL279516",
]

chembl_api_base_url = "https://www.ebi.ac.uk/chembl/api/data"
output_folder = "ligands_sdf"

if not os.path.exists(output_folder):
    os.makedirs(output_folder)

for ligand_id in ligand_ids:
    sdf_url = f"{chembl_api_base_url}/molecule/{ligand_id}.sdf"
    response = requests.get(sdf_url)
    
    if response.status_code == 200:
        with open(f"{output_folder}/{ligand_id}.sdf", "w") as sdf_file:
            sdf_file.write(response.text)
    else:
        print(f"Error downloading {ligand_id}: {response.status_code}")


